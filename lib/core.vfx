\ - Misc
: @+ dup cell+ swap @ ;
: rnd choose ;
: ?literal state @ if postpone literal then ;
: ?; s" if exit then" evaluate ; immediate
: 0; s" 0= if exit then" evaluate ; immediate
: sf@+ dup sf@ cell+ ;
: sf-! cell- dup sf! ;
: f>ds 0 >r rp@ sf! r> ;
synonym | locals|
synonym :: :noname 

\ - Arrays
: get  swap cells + @ ;
: set  swap cells + ! ;

\ - 2D Vectors p1
: v@ dup @ swap 4 + @ ;
: v! dup >r 4 + ! r> ! ;
: v+! dup >r 4 + +! r> +! ;
: v, swap , , ;
: 2+ rot + >r + r> ;
: 2* rot * >r * r> ;
: 2/ rot swap / >r / r> ;
: 2mod rot swap mod >r mod r> ;
: 2negate swap negate swap negate ;
: 2s>f swap s>f s>f ;
: x@ @ ;
: y@ cell+ @ ;

\ - Fixed point numbers
: .0 16 lshift ;
: 2s>p .0 swap .0 swap ;
: p>s 65536 / ;
: 2p>s p>s swap p>s swap ;  
: p>f s>f 65536e f/ ;
: f>p 65536e f* f>s ;
: p* 65536 */ ;
: p/ 65536 swap */ ;
: 2p>f swap p>f p>f ;
: 2f>p f>p f>p swap ;